!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("./helpers/environment/get-global-object"),f=d(e),g=a("./helpers/object/extend"),h=d(g),i=a("./lib/module"),j=d(i),k=a("./lib/service"),l=d(k),m=a("./lib/component"),n=d(m),o=a("./lib/application-facade"),p=d(o),q=a("plite"),r=d(q),s=f["default"](),t=s.Conduit||{};!s.Promise&&(s.Promise=r["default"]),t.ApplicationFacade=p["default"],t.ApplicationFacade.extend=h["default"],t.Module=j["default"],t.Module.extend=h["default"],t.Service=l["default"],t.Service.extend=h["default"],t.Component=n["default"],t.Component.extend=h["default"],s.Conduit=t},{"./helpers/environment/get-global-object":8,"./helpers/object/extend":10,"./lib/application-facade":15,"./lib/component":17,"./lib/module":18,"./lib/service":19,plite:21}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("./extensions/fallback/fallback.js"),f=d(e),g={vent:f["default"]("vent"),dom:f["default"]("dom"),template:f["default"]("template")};c["default"]=g,b.exports=c["default"]},{"./extensions/fallback/fallback.js":3}],3:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(a){return function(){var b=['Extension for "'+a+'" is not configured yet.\r\n',"Please pass an extensions through ApplicationFacade constructor options."+a+"\r\n","or directly through Module, Service or Component via options.app."+a+"!"];return console.warn(b.join("")),arguments[0]}},b.exports=c["default"]},{}],4:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(){Array.from||(Array.from=function(a){return[].slice.call(a)})}.call(void 0),b.exports=c["default"]},{}],5:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a?a instanceof Array||0===a.length||"number"==typeof a.length&&a.length>0&&a.length-1 in a:!1}c.__esModule=!0,c["default"]=d,b.exports=c["default"]},{}],6:[function(a,b,c){"use strict";function d(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a}c.__esModule=!0,c["default"]=d,b.exports=c["default"]},{}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=[];return b=b||document,a&&a.nodeType===Node.ELEMENT_NODE?c=[a]:"string"==typeof a?c=Array.from(b.querySelectorAll(a)):a&&a.length&&Array.from(a).length>0&&(c=Array.from(a)),c}c.__esModule=!0,c["default"]=e;var f=a("../array/from");d(f);b.exports=c["default"]},{"../array/from":4}],8:[function(a,b,c){(function(a){"use strict";function d(){return"undefined"!=typeof self?self:"undefined"!=typeof a?a:new Function("return this")()}c.__esModule=!0,c["default"]=d,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(a,b,c){"use strict";c.__esModule=!0,c["default"]=function(){Object.assign||!function(){var a=function(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)},b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;Object.assign=function(d,e){for(var f,g,h=a(d),i=1;i<arguments.length;i++){f=Object(arguments[i]);for(var j in f)b.call(f,j)&&(h[j]=f[j]);if(Object.getOwnPropertySymbols){g=Object.getOwnPropertySymbols(f);for(var k=0;k<g.length;k++)c.call(f,g[k])&&(h[g[k]]=f[g[k]])}}return h}}()}(),b.exports=c["default"]},{}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c,d=this;c=a&&Object.hasOwnProperty.call(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},d.type&&(c.type=d.type),Object.assign(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&Object.assign(c.prototype,a),c.__super__=d.prototype,c}c.__esModule=!0,c["default"]=e;var f=a("./assign");d(f);b.exports=c["default"]},{"./assign":9}],11:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var e=function(){function a(){d(this,a)}return a.reduce=function(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1],c=this.toArray();return c.reduce(a,b)},a.filter=function(a){var b=this.toArray();return b.filter(a)},a.where=function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=[],d=[];return this.each(function(b,e){if("function"==typeof a&&a(e))d.push(b),c.push(e);else if("object"==typeof a){var f=!1;for(var g in a)e.hasOwnProperty(g)&&e[g]===a[g]&&(f=!0);f&&(d.push(b),c.push(e))}}),b?[c,d]:c},a.findByIndexes=function(b){return isNumber(b)&&(b=[b]),a.filter(function(a,c){return~b.indexOf(c)})},a}();c["default"]=e,b.exports=c["default"]},{}],12:[function(a,b,c){"use strict";function d(a){return a.replace(/[A-Z]/g,function(a,b){return(0!==b?"-":"")+a.toLowerCase()})}c.__esModule=!0,c["default"]=d,b.exports=c["default"]},{}],13:[function(a,b,c){"use strict";c.__esModule=!0;var d=function(){return function(a){var b=/function (.{1,})\(/,c=b.exec(a.constructor.toString());return c&&c.length>1?c[1]:""}}.call(void 0);c["default"]=d,b.exports=c["default"]},{}],14:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var e=a("./extract-object-name"),f=d(e),g=function(){var a={};return function(b){var c=void 0;return"object"==typeof b&&(c=f["default"](b)),c=b,a[c]?a[c]++:a[c]=1,c+"-"+a[c]}}.call(void 0);c["default"]=g,b.exports=c["default"]},{"./extract-object-name":13}],15:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./module"),i=d(h),j=a("./types"),k=a("../helpers/array/from"),l=(d(k),a("../helpers/object/assign")),m=(d(l),a("../helpers/string/dasherize")),n=d(m),o=a("../helpers/dom/dom-node-array"),p=d(o),q=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,b),a.call(this,c),this._modules=[],this.vent=c.vent,this.dom=c.dom,this.template=c.template,c.AppComponent&&(this.appComponent=new c.AppComponent(Object.assign(c,{app:this,context:c.context||document,moduleSelector:c.moduleSelector||"[data-js-module]"}))),c.modules&&this.start.apply(this,c.modules)}return f(b,a),b.prototype.getModuleInstanceByName=function(a,b){var c=this.findMatchingRegistryItems(a);return isNaN(b)?c.map(function(a){return a.module}):c[b]&&c[b].module?c[b].module:void 0},g(b,[{key:"modules",get:function(){return this._modules}}]),b.prototype.findMatchingRegistryItems=function(a){return"*"===a?this._modules:this._modules.filter(function(b){return b===a||b.module===a||"string"==typeof a&&b.module.type===a||"string"==typeof a&&b.module.name===a||"object"==typeof a&&a.uid&&b.instances.indexOf(a)>-1?b:void 0})},b.prototype.start=function(){for(var a=this,b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];if(c.length>1)return void c.forEach(function(b){a.start(b)});var e=c[0],f={};return Object.getPrototypeOf(e)===Object.prototype&&e.module&&(f=e.options||{},e=e.module),this.startModules(e,f)},b.prototype.stop=function(){for(var a=this,b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];if(c.length>1)return void c.forEach(function(b){a.stop(b)});var e=c[0];this.findMatchingRegistryItems(e).forEach(function(a){var b=a.module;a.instances.forEach(function(a){b.type===j.COMPONENT_TYPE?a.undelegateEvents():b.type===j.SERVICE_TYPE&&a.disconnect(),a.undelegateVents()}),a.running=!1})},b.prototype.startModules=function(a,b){if(b.app=b.app||this,a.type===j.COMPONENT_TYPE)this.startComponents(a,b);else if(a.type===j.SERVICE_TYPE)this.startService(a,b);else{if(a.type!==j.MODULE_TYPE)throw new Error("Expected Module of type \n				"+j.COMPONENT_TYPE+", "+j.SERVICE_TYPE+" or "+j.MODULE_TYPE+", \n				Module of type "+a.type+" is not allowed.");this.startModule(a,b)}var c=this._modules[this._modules.length-1];return c.running=!0,c},b.prototype.startModule=function(a,b){var c=new a(b);this.initModule(c),this.register(a,c,b)},b.prototype.startComponents=function(a,b,c){var d=this,e=[];!a.name&&a.prototype._name&&(a.es5name=a.prototype._name),this.options.context&&!b.context&&(b.context=this.options.context),e=p["default"](b.el),0===e.length&&(this.appComponent.elements=b,e=this.appComponent.elements),e.forEach(function(c){var e=a.name||a.es5name;e&&-1!==c.dataset.jsModule.indexOf(n["default"](e))&&(b.app=b.app||d,d.startComponent(a,b,c))}),0===e.length&&this.register(a)},b.prototype.startComponent=function(a,b,c){b.el=c,b=Object.assign(this.parseOptions(b.el,a),b);var d=new a(b);this.initComponent(d),this.register(a,d,b)},b.prototype.startService=function(a,b){var c=new a(b);this.initService(c),this.register(a,c,b)},b.prototype.parseOptions=function(a,b){var c=a&&a.dataset.jsOptions;if(c&&"string"==typeof c){var d=b.name||b.es5name;c=c.replace(/\\'/g,"'").replace(/'/g,'"'),c=JSON.parse(c),c=c[n["default"](d)]||c[d]||c}return c||{}},b.prototype.initModule=function(a){if(a.type!==j.MODULE_TYPE)throw new Error("Expected Module instance.");a.delegateVents()},b.prototype.initService=function(a){if(a.type!==j.SERVICE_TYPE)throw new Error("Expected Service instance.");a.delegateVents(),a.connect(),a.autostart&&a.fetch()},b.prototype.initComponent=function(a){if(a.type!==j.COMPONENT_TYPE)throw new Error("Expected Component instance.");a.delegateVents(),a.delegateEvents(),a.autostart&&a.render()},b.prototype.register=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(0===arguments.length)throw new Error("Module or module identifier expected");var d=this.findMatchingRegistryItems(a)[0];if(d){var e=this._modules.indexOf(d);d.appName&&!this[c.appName]&&b&&(this[c.appName]=b),b&&-1===this._modules[e].instances.indexOf(b)&&this._modules[e].instances.push(b)}else if([j.SERVICE_TYPE,j.COMPONENT_TYPE,j.MODULE_TYPE].indexOf(a.type)>-1){var f={type:a.type,module:a,instances:b?[b]:[],autostart:!!a.autostart,running:!1,uid:a.uid};c.appName&&!this[c.appName]&&f.instances.length>0?(f.appName=c.appName,this[c.appName]=f.instances[0]):c.appName&&console.error("appName "+c.appName+" is already defined."),this._modules.push(f)}else console.error("Expected Module of type \n				"+j.COMPONENT_TYPE+", "+j.SERVICE_TYPE+" or "+j.MODULE_TYPE+", \n				Module of type "+a.type+" cannot be registered.")},b.prototype.destroy=function(){for(var a=this,b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];if(c.length>1)return void c.forEach(function(b){a.destroy(b)});var e=c[0],f=!("object"!=typeof e||!e.uid);this.findMatchingRegistryItems(e);this.findMatchingRegistryItems(e).forEach(function(b){var c=b.module,d=f?[e]:b.instances;d.forEach(function(d){c.type===j.COMPONENT_TYPE?(d.undelegateEvents(),d.remove()):c.type===j.SERVICE_TYPE&&(d.disconnect(),d.destroy()),d.undelegateVents();var e=a._modules[a._modules.indexOf(b)].instances;e.length>1?a._modules[a._modules.indexOf(b)].instances.splice(e.indexOf(d),1):(a._modules[a._modules.indexOf(b)].instances=[],b.appName&&a[b.appName]&&delete a[b.appName])})}),f||this.unregister(e)},b.prototype.unregister=function(a){for(var b=this.findMatchingRegistryItems(a),c=0,d=b.length;d>c;c++){var e=b[c];this._modules.length>1?this._modules.splice(this._modules.indexOf(e),1):this._modules=[]}},b}(i["default"]);c["default"]=q,b.exports=c["default"]},{"../helpers/array/from":4,"../helpers/dom/dom-node-array":7,"../helpers/object/assign":9,"../helpers/string/dasherize":12,"./module":18,"./types":20}],16:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){return a.name?a.name:m["default"](a)}function g(a){return a.dashedName?a.dashedName:k["default"](f(a))}function h(a){return a.uid?a.uid:o["default"](f(a))}c.__esModule=!0;var i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("../helpers/string/dasherize"),k=d(j),l=a("../helpers/string/extract-object-name"),m=d(l),n=a("../helpers/string/named-uid"),o=d(n),p=a("../helpers/environment/get-global-object"),q=d(p),r=a("../default-config"),s=d(r),t=a("plite"),u=d(t),v=q["default"]();!v.Promise&&(v.Promise=u["default"]);var w=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,a),this.name=f(this),this.dashedName=g(this),this.uid=h(this),this.options=b,b.app&&(this.app=b.app),this.vents=b.vents||{},this.autostart=!!b.autostart,b.vent?this.vent=b.vent(this):b.app&&b.app.vent?this.vent=b.app.vent(b.app):this.vent=s["default"].vent(this)}return i(a,[{key:"vents",set:function(a){this._vents=a},get:function(){return this._vents}},{key:"autostart",set:function(a){this._autostart=a},get:function(){return this._autostart}},{key:"name",set:function(a){this._name=a},get:function(){return this._name}},{key:"dashedName",set:function(a){this._dashedName=a},get:function(){return this._dashedName}},{key:"uid",get:function(){return this._uid},set:function(a){this._uid=a}}]),a.prototype.initialize=function(a){},a.prototype.delegateVents=function(){if(this.vent){for(var a in this.vents)if(this.vents.hasOwnProperty(a)){var b=this.vents[a];if("function"!=typeof b&&"function"==typeof this[b])b=this[b];else if("function"!=typeof b)throw new Error("Expected callback method");this.vent.on(a,b,this)}return this}},a.prototype.undelegateVents=function(){if(this.vent){for(var a in this.vents)if(this.vents.hasOwnProperty(a)){var b=this.vents[a];if("function"!=typeof b&&"function"==typeof this[b])b=this[b];else if("function"!=typeof b)throw new Error("Expected callback method");this.vent.off(a,b,this)}return this}},a.prototype.toString=function(){return this.uid},a}();c["default"]=w,b.exports=c["default"]},{"../default-config":2,"../helpers/environment/get-global-object":8,"../helpers/string/dasherize":12,"../helpers/string/extract-object-name":13,"../helpers/string/named-uid":14,plite:21}],17:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./base"),i=d(h),j=a("../helpers/object/assign"),k=(d(j),a("../default-config")),l=d(k),m=a("../helpers/array/from"),n=(d(m),a("./types")),o=/^(\S+)\s*(.*)$/,p=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,q=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,b),c.context=c.context||document,a.call(this,c),this.events=this.events||{},this.dom=c.dom||c.app&&c.app.dom||l["default"].dom,this.template=c.template||c.app&&c.app.template||l["default"].template,this._domEvents=[],this.ensureElement(c),this.initialize(c),this.didMount()}return f(b,a),g(b,[{key:"type",get:function(){return n.COMPONENT_TYPE}},{key:"events",set:function(a){this._events=a},get:function(){return this._events}},{key:"el",set:function(a){this._el=a},get:function(){return this._el}}],[{key:"type",get:function(){return n.COMPONENT_TYPE}}]),b.prototype.didMount=function(){this.delegateEvents(),this.delegateVents()},b.prototype.willUnmount=function(){this.undelegateEvents(),this.undelegateVents()},b.prototype.createDomNode=function(a){var b=this.options.context.querySelector(a);if(b)return b;var c=document.createElement("div"),d=void 0;return c.innerHTML=a,Array.from(c.childNodes).forEach(function(a){d||a.nodeType!==Node.ELEMENT_NODE||(d=a)}),d||c},b.prototype.ensureElement=function(a){if(this.el||a&&a.el)if(a.el instanceof Element)this.el=a.el;else{if("string"!=typeof a.el)throw new TypeError("Parameter options.el of type "+typeof a.el+" is not a dom element.");this.el=this.createDomNode(a.el)}else this.el=document.createElement("div");this.el.dataset.jsModule?-1===this.el.dataset.jsModule.indexOf(this.dashedName)&&this.el.setAttribute("data-js-module",this.el.dataset.jsModule+" "+this.dashedName):this.el.setAttribute("data-js-module",this.dashedName),this.el.componentUid?-1===this.el.componentUid.indexOf(this.uid)&&this.el.componentUid.push(this.uid):this.el.componentUid=[this.uid],this.$el=this.dom&&this.dom(this.el)},b.prototype.setElement=function(a){return this.undelegateEvents(),this.ensureElement({el:a}),this.delegateEvents(),this},b.prototype.delegateEvents=function(a){if(!a&&!(a=this.events))return this;this.undelegateEvents();for(var b in a){var c=a[b];"function"!=typeof c&&(c=this[a[b]]);var d=b.match(o);this.delegate(d[1],d[2],c.bind(this))}return this},b.prototype.delegate=function(a,b,c){"function"==typeof b&&(c=b,b=null);var d=this.el,e=b?function(a){for(var e=a.target||a.srcElement;e&&e!=d;e=e.parentNode)p.call(e,b)&&(a.delegateTarget=e,c(a))}:c;return Element.prototype.addEventListener.call(this.el,a,e,!1),this._domEvents.push({eventName:a,handler:e,listener:c,selector:b}),e},b.prototype.undelegate=function(a,b,c){if("function"==typeof b&&(c=b,b=null),this.el)for(var d=this._domEvents.slice(),e=d.length;e--;){var f=d[e],g=f.eventName===a&&(c?f.listener===c:!0)&&(b?f.selector===b:!0);g&&(Element.prototype.removeEventListener.call(this.el,f.eventName,f.handler,!1),this._domEvents.splice(e,1))}return this},b.prototype.undelegateEvents=function(){if(this.el){for(var a=0,b=this._domEvents.length;b>a;a++){var c=this._domEvents[a];Element.prototype.removeEventListener.call(this.el,c.eventName,c.handler,!1)}this._domEvents.length=0}return this},b.prototype.remove=function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},b.prototype.render=function(){return this},b}(i["default"]);c["default"]=q,b.exports=c["default"]},{"../default-config":2,"../helpers/array/from":4,"../helpers/object/assign":9,"./base":16,"./types":20}],18:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./base"),i=d(h),j=a("./types"),k=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,b),a.call(this,c),this.initialize(c),this.delegateVents()}return f(b,a),g(b,[{key:"type",get:function(){return j.MODULE_TYPE}}],[{key:"type",get:function(){return j.MODULE_TYPE}}]),b}(i["default"]);c["default"]=k,b.exports=c["default"]},{"./base":16,"./types":20}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.__esModule=!0;var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./base"),i=d(h),j=a("../helpers/service/reducers"),k=d(j),l=a("../helpers/object/assign"),m=(d(l),a("../helpers/array/is-array-like")),n=d(m),o=a("../helpers/array/merge"),p=d(o),q=a("./types"),r=function(a){function b(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e(this,b),a.call(this,c),this.length=0,this.resource=c.resource||this,this.data={};for(var d in k["default"])k["default"].hasOwnProperty(d)&&(this.data[d]=k["default"][d].bind(this));this.lastCommitId=null,this.commitIds=[],this.repository={},c.data&&this.merge(c.data),this.initialize(c),this.delegateVents()}return f(b,a),g(b,[{key:"type",get:function(){return q.SERVICE_TYPE}},{key:"resource",set:function(a){this._resource=a},get:function(){return this._resource}}],[{key:"type",get:function(){return q.SERVICE_TYPE}}]),b.prototype.fallback=function(){return this},b.prototype.commit=function(a){return a&&(this.repository[a]=this.toArray(),this.lastCommitId=a,this.commitIds.push(a)),this},b.prototype.resetRepos=function(){return this.lastCommitId=null,this.commitIds=[],this.repository={},this},b.prototype.rollback=function(){var a=arguments.length<=0||void 0===arguments[0]?this.lastCommitId:arguments[0];return a&&this.repository[a]&&(this.reset(),this.create(this.repository[a])),this},b.prototype.each=function(a,b){"function"==typeof a&&(b=a,a=this);var c=n["default"](a),d=void 0,e=0;if(c)for(var f=a.length;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);return this},b.prototype.connect=function(){var a=this.options.strategy&&this.options.strategy.connect||this.fallback;return a.apply(this,arguments)},b.prototype.disconnect=function(){var a=this.options.strategy&&this.options.strategy.disconnect||this.fallback;return a.apply(this,arguments)},b.prototype.fetch=function(){var a=this.options.strategy&&this.options.strategy.fetch||this.fallback;return a.apply(this,arguments)},b.prototype.parse=function(){var a=this.options.strategy&&this.options.strategy.parse||this.fallback;return a.apply(this,arguments)},b.prototype.then=function(a){return a(this.toArray()),this},b.prototype["catch"]=function(){return this},b.prototype.merge=function(a){return n["default"](a)?p["default"](this,a):a&&this.add(a),this},b.prototype.replace=function(){var a=arguments.length<=0||void 0===arguments[0]?{data:[]}:arguments[0];if(a.data instanceof Array||(a.data=[a.data]),a.end=a.end||this.length,!isNaN(a.start)&&a.start<=a.end)for(var b=a.start,c=0;b<=a.end&&a.data[c];)this[b]=a.data[c],b++,c++;return this},b.prototype.insert=function(){var a=arguments.length<=0||void 0===arguments[0]?{data:[],replace:0}:arguments[0];if(a.data instanceof Array||(a.data=[a.data]),!isNaN(a.start)){var b=this.toArray();Array.prototype.splice.apply(b,[a.start,a.replace].concat(a.data)),this.reset(),this.create(b)}return this},b.prototype.create=function(a){return this.merge(a),this},b.prototype.update=function(){var a=this,b=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return b=b instanceof Array?b:b?[b]:[],b.forEach(function(b){if(!isNaN(b.index)&&a[b.index])a[b.index]=b.to;else if(b.where){var c=a.data.where(b.where,!0),d=(c[0],c[1]);d.forEach(function(c){var d=b.to&&!(b.to instanceof Array)&&"object"==typeof b.to&&a[c]&&!(a[c]instanceof Array)&&"object"==typeof a[c],e=b.to instanceof Array&&a[c]instanceof Array;e?Array.prototype.splice.apply(a[c],[0,b.to.length].concat(b.to)):d?a[c]=Object.assign(a[c],b.to):a[c]=b.to})}}),this},b.prototype.add=function(a){return a&&(this[this.length++]=a),this},b.prototype.reset=function(){var a=arguments.length<=0||void 0===arguments[0]?this:arguments[0];return this.each(a,function(b){delete a[b]}),a.length=0,this},b.prototype.toArray=function(){var a=arguments.length<=0||void 0===arguments[0]?this:arguments[0],b=[];return a instanceof Array?a:(this.each(a,function(c){b.push(a[c])}),b)},b.prototype.toDataString=function(){return JSON.stringify(this.toArray())},b.prototype.remove=function(a){var b=arguments.length<=1||void 0===arguments[1]?1:arguments[1],c=this.toArray();return c.splice(a,b),this.reset(),this.create(c),this},b.prototype.save=function(){var a=this.options.strategy&&this.options.strategy.save||this.fallback;return a.apply(this,arguments)},b}(i["default"]);c["default"]=r,b.exports=c["default"]},{"../helpers/array/is-array-like":5,"../helpers/array/merge":6,"../helpers/object/assign":9,"../helpers/service/reducers":11,"./base":16,"./types":20}],20:[function(a,b,c){"use strict";c.__esModule=!0;var d="module",e="service",f="component";c.MODULE_TYPE=d,c.SERVICE_TYPE=e,c.COMPONENT_TYPE=f},{}],21:[function(a,b,c){function d(a){function b(a,c,d){a&&a.then?a.then(function(a){b(a,c,d)})["catch"](function(a){b(a,d,d)}):c(a)}function c(a){h=function(b,c){try{a(b,c)}catch(d){c(d)}},j(),j=void 0}function e(a){c(function(b,c){c(a)})}function f(a){c(function(b){b(a)})}function g(a,b){var c=j;j=function(){c(),h(a,b)}}var h,i=function(){},j=i,k={then:function(a){var b=h||g;return d(function(c,d){b(function(b){c(a(b))},d)})},"catch":function(a){var b=h||g;return d(function(c,d){b(c,function(b){d(a(b))})})},resolve:function(a){!h&&b(a,f,e)},reject:function(a){!h&&b(a,e,e)}};return a&&a(k.resolve,k.reject),k}d.resolve=function(a){return d(function(b){b(a)})},d.reject=function(a){return d(function(b,c){c(a)})},d.race=function(a){return a=a||[],d(function(b,c){var d=a.length;if(!d)return b();for(var e=0;d>e;++e){var f=a[e];f&&f.then&&f.then(b)["catch"](c)}})},d.all=function(a){return a=a||[],d(function(b,c){function d(){--g<=0&&b(a)}function e(b,e){b&&b.then?b.then(function(b){a[e]=b,d()})["catch"](c):d()}var f=a.length,g=f;if(!f)return b();for(var h=0;f>h;++h)e(a[h],h)})},"object"==typeof b&&"function"!=typeof define&&(b.exports=d)},{}]},{},[1]);